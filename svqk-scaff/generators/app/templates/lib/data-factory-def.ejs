<%# args: fields %>
<%
javaTypeDefs = [
  {
    type: "Integer",
    valueCode: "new Random().nextInt()",
    imports: ["java.util.Random"],
  },
  {
    type: "String",
    valueCode: "RandomStringUtils.randomAscii(@varchar.size@)",
    imports: ["org.apache.commons.lang3.RandomStringUtils"],
  },
];

findTypeDef = (type) => javaTypeDefs.find((typeDef) => typeDef.type === type);

getValueCode = (field) => {
  let code = findTypeDef(field.javaType)?.valueCode ?? "null";

  if(field.javaType === "String"){
    code = code.replace("@varchar.size@", Math.min(field.dbTypeSize, 36));
  }

  return code;
}

getFieldNmPascal = (fieldName) => {
  return str.charAt(0).toUpperCase() + str.slice(1);
}

imports = [...new Set(fields.map((field) => field.javaType))].reduce(
  (result, type) => result.concat(findTypeDef(type)?.imports ?? []),
  []
);
%>