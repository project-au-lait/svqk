<%_ include('../../../../lib/typescript-common'); -%>
import BasePageElement from '@arch/BasePageElement';
import { DateTime } from 'luxon';
<%- tscom.impDclIdTypeE2e %>

export default class <%= entityNmPascal %>ListPageElement extends BasePageElement {
  get pageNameKey() {
    return '<%= entityNmCamel %>';
  }

  async clickNew<%= entityNmPascal %>Link() {
    await this.click('#new<%= entityNmPascal %>');
  }

  async click<%= entityNmPascal %>NoLinkById(id: <%= tscom.idType %>) {
    <%_ if (!compIdFields) { -%>
    const rowId = id;
    <%_ } else { -%>
    const rowId = <%- compIdFields.map(field => {
      const name = `id.${field.fieldName}`;
      if (field.javaType === 'java.time.LocalDateTime') {
        return `DateTime.fromISO(${name}).toFormat("yyyy-MM-dd'T'HH:mm:ss")`;
      }
      return name;
    }).join(' + "/" + ') %>;
    <%_ } -%>
    await this.clickInRowID(rowId);
  }
}